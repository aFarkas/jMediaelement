!function(a){window.webshims||(a.webshims=a.webshims||{ready:function(a,b){b()},addReady:function(b){a(function(){b(document,a([]))})}},window.webshims=a.webshims);var b=a.webshims;window.Modernizr&&"opacity"in Modernizr||a("html").addClass("opacity"in document.documentElement.style?"opacity":"no-opacity");var c={},d={},e=!1;a(window).on("load",function(){e=!0;var b,c=function(){e=!0};a(window).on("scroll",function(){e=!1,clearTimeout(b),b=setTimeout(c,999)})}),a.jme={version:"2.0.9",classNS:"",options:{},plugins:{},data:function(b,c,d){var e=a(b).data(h+"jme")||a.data(b,h+"jme",{});return void 0===d?c?e[c]:e:void(e[c]=d)},registerPlugin:function(a,b){this.plugins[a]=b,b.nodeName||(b.nodeName=""),b.className||(b.className=a)},defineMethod:function(a,b){d[a]=b},defineProp:function(b,d){d||(d={}),d.set||(d.set=d.readonly?function(){throw b+" is readonly"}:a.noop),d.get||(d.get=function(c){return a.jme.data(c,b)}),c[b]=d},prop:function(b,d,e){if(!c[d])return a.prop(b,d,e);if(void 0===e)return c[d].get(b);var f=c[d].set(b,e);void 0===f&&(f=e),"noDataSet"!=f&&a.jme.data(b,d,f)},setText:function(b,c){var d=b;b&&c&&(d={},d[b]=c),a.each(d,function(b,c){a.jme.plugins[b]&&(a.jme.plugins[b].text=c)})}},a.fn.jmeProp=function(b,c){return a.access(this,a.jme.prop,b,c,arguments.length>1)},a.fn.jmeFn=function(b){var c,e=Array.prototype.slice.call(arguments,1);return this.each(function(){return c=(d[b]||a.prop(this,b)).apply(this,e),void 0!==c?!1:void 0}),void 0!==c?c:this};var f,g=[],h="";a.jme.createSelectors=function(){f||(h=a.jme.classNS,f="div."+h+"mediaplayer",a.each(a.jme.plugins,function(b,c){c.className=h+c.className,c.selector=c.nodeName+"."+c.className,g.push(c.selector),h&&c.pseudoClasses&&a.each(c.pseudoClasses,function(a,b){c.pseudoClasses[a]=h+b})}),g=g.join(","))},a.jme.initJME=function(b,c){a("video, audio",b).add(c.filter("video, audio")).filter("[data-muted]").each(function(){a.prop(this,"muted",!0)}).end().filter("[data-volume]").each(function(){var b=a(this).data("volume");1>=b&&b>=0&&a.prop(this,"volume",b)}),a(f,b).add(c.filter(f)).jmePlayer()};var i={emptied:1,pause:1};a.jme.getDOMList=function(b){var c=[];return b||(b=[]),"string"==typeof b&&(b=b.split(" ")),a.each(b,function(a,b){b&&(b=document.getElementById(b),b&&c.push(b))}),c},b.ready("dom-support",function(){b.defineNodeNamesProperty&&!a("<input />").prop("labels")&&b.defineNodeNamesProperty("button, input, keygen, meter, output, progress, select, textarea","labels",{prop:{get:function(){var b=[],c=this.id;return c&&(b=a('label[for="'+c+'"]')),b[0]||(b=a(this).closest("label",this.form)),b.get()},writeable:!1}})}),a.jme.getButtonText=function(b,c){var d=a("span.jme-text, +label span.jme-text",b),e=b.prop("labels");e=e&&e[0]?a(e).eq(0):!1,d[0]||(d=e||b);var f,g,h,i,j=d.text().split("/"),k=b.prop("title").split("/"),l=function(k){i!==k&&(i=k,g&&d.text(j[k||0]),h&&(b.prop("title",j[k||0]),e&&e.prop("title",j[k||0])),c&&b.removeClass(c[k?0:1]).addClass(c[k]),f&&(b.prop("checked",!!k),(b.data("checkboxradio")||{refresh:a.noop}).refresh()))};return 2==j.length&&(j[0]=j[0].trim(),j[1]=j[1].trim(),g=!0),2==k.length&&(k[0]=k[0].trim(),k[1]=k[1].trim(),h=!0),b.is('[type="checkbox"], [type="radio"]')?(b.prop("checked",function(){return this.defaultChecked}),f=!0):b.is("a")&&b.bind("click",function(a){a.preventDefault()}),l},a.fn.jmePlayer=function(b){var c=["idle","playing","ended","waiting","mediaerror"].map(function(a){return h+"state-"+a}).join(" ");return this.each(function(){b&&a.jme.data(this,a.extend(!0,{},b));var d,f,j,k,l,m,n,o,p=a("audio, video",this).filter(":first"),q=a(this),r=a(g,q),s=a.jme.getDOMList(a.jme.data(this,"controls")),t=r.add(a(s)),u=a.jme.data(this),v=a.jme.data(p[0]);q.addClass(p.prop("nodeName").toLowerCase()+"player"),v.player=q,v.media=p,u.media||(f=!0,o=!p.prop("autoplay"),m=function(){p.unbind("canplay",l),clearTimeout(n)},l=function(){var b=a.prop(this,"paused")?"idle":"playing";q.removeClass(c).addClass(h+"state-"+b)},d=function(b){var d,e,f=b.type;m(),"ended"==f||a.prop(this,"ended")?f="ended":"waiting"==f?a.prop(this,"readyState")>2?f="":(n=setTimeout(function(){p.prop("readyState")>2&&l()},9),p.bind("canPlay",l)):i[f]?f="idle":(d=a.prop(this,"readyState"),e=a.prop(this,"paused"),f=!e&&3>d?"waiting":!e&&d>2?"playing":"idle"),f&&q.removeClass(c).addClass(h+"state-"+f)},u.media=p,u.player=q,p.bind("ended",function(){m(),p.jmeFn("pause"),p.prop("autoplay")||p.prop("loop")||p.hasClass("no-reload")||p.jmeFn("load")}).bind("emptied waiting canplay canplaythrough playing ended pause mediaerror",d).bind("volumechange updateJMEState",function(){var b=a.prop(this,"volume");q[!b||a.prop(this,"muted")?"addClass":"removeClass"](h+"state-muted"),b=.34>b?"low":.67>b?"medium":"high",q.attr("data-volume",b)}).bind("emptied updateJMEState play playing waiting",function(b){var c;"emptied"==b.type||"updateJMEState"==b.type&&a.prop(this,"paused")?("emptied"==b.type&&(o=!p.prop("autoplay")),c="addClass"):("play"==b.type||"waiting"==b.type||"playing"==b.type)&&(c="removeClass"),c&&q[c](h+"state-initial")}),q.addClass(h+"userinactive").on({useractive:function(){q.addClass(h+"useractive").removeClass(h+"userinactive")},focusin:function(){clearTimeout(j),q.addClass(h+"focusenter")},focusout:function(){clearTimeout(j),j=setTimeout(function(){q.removeClass(h+"focusenter")},1)},"mouseenter focusin":function(){clearTimeout(k),q.addClass(h+"fover"),o&&e&&(p.prop("preload","auto"),o=!1)},"mouseleave focusout":function(){clearTimeout(k),k=setTimeout(function(){q.removeClass(h+"fover")},1)}}).on("userinactive",{idletime:3500},function(){q.removeClass(h+"useractive").addClass(h+"userinactive")})),q.jmeFn("addControls",t),f&&(u.controlbar&&q.jmeProp("controlbar",!0),d&&p.bind("updateJMEState",d).triggerHandler("updateJMEState"))})},a.jme.defineProp("isPlaying",{get:function(b){return!a.prop(b,"ended")&&!a.prop(b,"paused")&&a.prop(b,"readyState")>1&&!a.data(b,"mediaerror")},readonly:!0}),a.jme.defineProp("player",{readonly:!0}),a.jme.defineProp("media",{readonly:!0}),a.jme.defineProp("srces",{get:function(b){var c=a.jme.data(b),d=c.media.prop("src"),e=[];return d?[{src:d}]:e=a.map(a("source",c.media).get(),function(b){var c={src:a.prop(b,"src")},d=a.attr(b,"media");return d&&(c.media=d),d=a.attr(b,"type"),d&&(c.type=d),c})},set:function(b,c){var d=a.jme.data(b),e=function(b,c){"string"==typeof c&&(c={src:c}),a(document.createElement("source")).attr(c).appendTo(d.media)};return d.media.removeAttr("src").find("source").remove(),a.isArray(c)?a.each(c,e):e(0,c),d.media.jmeFn("load"),"noDataSet"}}),a.jme.defineMethod("togglePlay",function(){a(this).jmeFn(c.isPlaying.get(this)?"pause":"play")}),a.jme.defineProp("controlbar",{set:function(b,c){c=!!c;var d,e=a.jme.data(b),f=a("div.jme-default-media-overlay, div.jme-default-control-bar",e.player),g=a.jme.plugins["media-controls"],i="";return c&&!f[0]?e._controlbar?e._controlbar.appendTo(e.player):(e.media.prop("controls",!1),a.each(g.pluginOrder,function(b,c){var d=a.jme.plugins[c];d&&d.structure?i+=d.structure.replace("{%class%}",h+c).replace("{%text%}",d.text||""):c&&(i+=c)}),e._controlbar=a(g.barStructure),f=e._controlbar.find("div.jme-cb-box").addClass(h+"media-controls"),d=e._controlbar.filter(".jme-default-media-overlay").addClass(h+"play-pause"),d=d.add(f),d=d.add(a(i).appendTo(f)),e._controlbar.appendTo(e.player),e.player.jmeFn("addControls",d)):c||f.detach(),f=null,d=null,c}}),a.jme.defineMethod("addControls",function(b){var c=a.jme.data(this)||{};if(c.media){var d=a.jme.data(c.player[0],"controlElements")||a([]);b=a(b),a.each(a.jme.plugins,function(d,e){b.filter("."+e.className).add(b.find("."+e.className)).each(function(){var b=a(this),d=a.jme.data(this);d.player=c.player,d.media=c.media,d.rendered||(d.rendered=!0,e.options&&a.each(e.options,function(a,b){a in d||(d[a]=b)}),e._create(b,c.media,c.player,d),b=null)})}),a.jme.data(c.player[0],"controlElements",d.add(b)),c.player.triggerHandler("controlsadded")}}),a.jme.defineMethod("updateControlbar",function(){var b=a("."+a.jme.classNS+"time-slider",this);if(b[0]&&"absolute"!==b.css("position")){var c,d=0,e={position:b[0].style.position,display:b[0].style.display};b.css({display:"none",position:"absolute"}),c=Math.floor(b.parent().width())-.2,b.siblings().each(function(){this!==b[0]&&"absolute"!==a.css(this,"position")&&"none"!==a.css(this,"display")&&(d+=Math.ceil(a(this).outerWidth(!0))+.1)}).end().css(e),b.width(Math.floor(c-d-Math.ceil(b.outerWidth(!0)-b.width())-.3))}}),a.jme.registerPlugin("media-controls",{pluginOrder:["play-pause",'<div class="media-bar">',"currenttime-display","time-slider","duration-display",'<div class="volume-controls">',"mute-unmute","volume-slider","</div>","fullscreen",'<div class="subtitle-controls">',"captions","</div>","</div>"],barStructure:'<div class="jme-default-media-overlay"></div><div class="jme-default-control-bar" tabindex="-1"><div class="jme-cb-box"></div></div>',_create:function(b,c,d){var e,f=function(){clearTimeout(e),b.jmeFn("updateControlbar"),e=setTimeout(function(){b.jmeFn("updateControlbar")},9)};setTimeout(function(){c.bind("loadedmetadata volumechange play pause ended emptied",f),d.bind("updatetimeformat controlsadded controlschanged playerdimensionchange",f),a(window).bind("resize emchange",f)},1),f()}}),function(){var b={add:function(b,c,d){var e,f,g=a.data(b,"jmeuseractivity")||a.data(b,"jmeuseractivity",{idletime:2500,idle:!0,trigger:{}}),h=a(b),i=function(){g.idle||(g.idle=!0,g.trigger.userinactive&&h.trigger("userinactive"))},j=function(a){!a||"mousemove"===a.type&&a.pageX===e&&a.pageY===f||("mousemove"===a.type&&(e=a.pageX,f=a.pageY),g.idleTimer&&clearTimeout(g.idleTimer),g.idleTimer=setTimeout(i,g.idletime),g.idle&&(g.idle=!1,g.trigger.useractive&&h.trigger("useractive")))};g.idletime=(c||{}).idletime||g.idletime,c&&"idle"in c&&(g.idle=c.idle),g.trigger[d]=!0,g.bound||(h.bind("mouseleave.jmeuseractivity",i).bind("mousemove.jmeuseractivity focusin.jmeuseractivity mouseenter.jmeuseractivity keydown.jmeuseractivity keyup.jmeuseractivity mousedown.jmeuseractivity",j),g.bound=!0),g.idle||j({type:"initunidled"})},remove:function(b,c){var d=a.data(b,"jmeuseractivity")||a.data(b,"jmeuseractivity",{idletime:2500,idle:!0,trigger:{}});d.trigger[c]=!1,d.trigger.useractive||d.trigger.userinactive||(a(b).unbind(".jmeuseractivity"),d.bound=!1)}};a.each(["useractive","userinactive"],function(c,d){a.event.special[d]={setup:function(a){b.add(this,a,d)},teardown:function(){b.remove(this,d)}}})}()}(jQuery),function(a){function b(a,b){var c,d,e;return{get:function(){return e?void 0:a.apply(this,arguments)},set:function(){clearTimeout(c),clearTimeout(d);var a=this,f=arguments;e=!0,c=setTimeout(function(){b.apply(a,f),d=setTimeout(function(){e=!1},30)},0)}}}var c="pseudoClasses",d={play:1,playing:1},e={pause:1,ended:1},f=(!(Modernizr.boxSizing||Modernizr["display-table"]||Modernizr.video||a.support.getSetAttribute),function(){a.webshims.loader&&a.webshims.loader.loadList(["range-ui"])}),g=function(b){f(),a.webshims.ready("range-ui",b)},h='<button class="{%class%}"><span class="jme-icon"></span><span class="jme-text">{%text%}</span></button>',i='<div  class="{%class%}"></div>',j='<div class="{%class%}"></div>';a.jme.registerPlugin("play-pause",{pseudoClasses:{play:"state-paused",pause:"state-playing"},structure:h,text:"play / pause",_create:function(b,f){var g=a.jme.getButtonText(b,[this[c].play,this[c].pause]);f.bind("play playing ended pause updateJMEState",function(a){var b=a.type;b=d[b]?1:e[b]?0:f.jmeProp("isPlaying")?1:0,g(b)}).triggerHandler("updateJMEState"),b.bind(b.is("select")?"change":"click",function(a){f.jmeFn("togglePlay"),a.stopPropagation()})}}),a.jme.registerPlugin("mute-unmute",{pseudoClasses:{mute:"state-mute",unmute:"state-unmute"},structure:h,text:"mute / unmute",_create:function(b,d){var e=a.jme.getButtonText(b,[this[c].mute,this[c].unmute]);d.bind("volumechange updateJMEState",function(){e(d.prop("muted")?1:0)}).triggerHandler("updateJMEState"),b.bind(b.is("select")?"change":"click",function(a){d.prop("muted",!d.prop("muted")),a.stopPropagation()})}}),a.jme.registerPlugin("volume-slider",{structure:j,_create:function(a,c){f();var d=function(){var d,e;e=b(function(){var a=c.prop("volume");void 0!==a&&d.value(a)},function(){c.prop({muted:!1,volume:d.options.value})}),d=a.rangeUI({min:0,max:1,step:"any",input:function(){e.set()}}).data("rangeUi"),c.bind("volumechange",e.get)};g(d)}}),a.jme.registerPlugin("time-slider",{structure:j,pseudoClasses:{no:"no-duration"},options:{format:["mm","ss"]},_create:function(d,e,h){f();var i=this,j=function(){var f,g,j,k,l=a.jme.classNS+"has-duration",m=(a.jme.classNS+"no-duration",e.prop("duration"));f=b(function(){var a=e.prop("currentTime");if(!isNaN(a))try{j.value(a)}catch(b){}},function(){try{e.prop("currentTime",j.options.value).triggerHandler("timechanged",[j.options.value])}catch(a){}}),g=function(){m=e.prop("duration"),l=m&&isFinite(m)&&!isNaN(m),l?(j.disabled(!1),j.max(m),h.removeClass(i[c].no)):(j.disabled(!0),j.max(Number.MAX_VALUE),h.addClass(i[c].no))},j=d.rangeUI({min:0,value:e.prop("currentTime")||0,step:"any",input:function(){f.set()},textValue:function(a){return e.jmeFn("formatTime",a)}}).data("rangeUi"),k=a('<span class="'+a.jme.classNS+'time-select" />').appendTo(d),d.on({mouseenter:function(b){if(l){var c=(d.offset()||{left:0}).left,f=d.innerWidth(),g=function(a){var b=(a-c)/f*100;k.html(e.jmeFn("formatTime",m*b/100)).css({left:b+"%"})};g(b.pageX),k.addClass(a.jme.classNS+"show-time-select"),d.off(".jmetimeselect").on("mousemove.jmetimeselect",function(a){g(a.pageX)})}},mouseleave:function(){k.removeClass(a.jme.classNS+"show-time-select"),d.off(".jmetimeselect")}}),e.bind({timeupdate:f.get,emptied:function(){g(),j.value(0)},durationchange:g}),h.jmeFn("addControls",a('<div class="'+a.jme.classNS+'buffer-progress" />').prependTo(d)),g()};g(j)}}),a.jme.defineMethod("concerningRange",function(b,c){var d=this,e={start:0,end:0};if(b||(b="buffered"),b=a.prop(d,b),null==c&&(c=a.prop(d,"currentTime")),!(b&&"length"in b))return e;for(var f=0,g=b.length;g>f&&(e.start=b.start(f),e.end=b.end(f),!(e.start<=c&&e.end>=c));f++);return e}),a.jme.defineProp("progress",{get:function(b){var c=a.jme.data(b);if(!c.media)return 0;var d=c.media.jmeFn("concerningRange").end/c.media.prop("duration")*100;return d>99.4&&(d=100),d||0},readonly:!0}),a.jme.registerPlugin("buffer-progress",{_create:function(b,c,d,e){var f=a('<div class="'+a.jme.classNS+'buffer-progress-indicator" />').appendTo(b),g=function(){var a=c.jmeProp("progress");e.progress!==a&&(e.progress=a,f.css("width",a+"%"))};c.bind({progress:g,emptied:function(){f.css("width",0),e.progress=0},playing:g}),g()}});var k={hh:6e4,mm:60,ss:1,ms:.001},l=function(b,c){var d;c||(c=["mm","ss"]),null==b&&(d=a.jme.data(this),b=a.prop(d.media,"duration")),b||(b=0);for(var e,f=[],g=0,h=c.length;h>g;g++)"ms"==c[g]&&g==h-1?e=Math.round(b/k[c[g]]/10):(e=parseInt(b/k[c[g]],10),b%=k[c[g]]),10>e&&(e="0"+e),f.push(e);return f.join(":")};a.jme.defineMethod("formatTime",l),a.jme.defineProp("format",{set:function(b,c){a.isArray(c)||(c=c.split(":"));var d=a.jme.data(b);return d.format=c,a(b).triggerHandler("updatetimeformat"),d.player.triggerHandler("updatetimeformat"),"noDataSet"}}),a.jme.registerPlugin("duration-display",{structure:i,options:{format:"mm:ss"},_create:function(a,b,c,d){"string"==typeof d.format&&(d.format=d.format.split(":"));var e=function(){a.html(l(b.prop("duration"),d.format))};b.bind("durationchange emptied",e),a.bind("updatetimeformat",e).jmeProp("format",d.format)}}),a.jme.defineProp("countdown",{set:function(b,c){var d=a.jme.data(b);return d.countdown=!!c,a(b).triggerHandler("updatetimeformat"),d.player.triggerHandler("updatetimeformat"),"noDataSet"}}),a.jme.registerPlugin("currenttime-display",{structure:i,options:{format:"mm:ss",countdown:!1},_create:function(a,b,c,d){"string"==typeof d.format&&(d.format=d.format.split(":"));var e=function(){var c=b.prop("currentTime");d.countdown&&(c=(b.prop("duration")||0)-c,.7>c&&(c=0)),a.html(l(c,d.format))};b.bind("timeupdate emptied durationchange",e),a.bind("updatetimeformat",e).jmeProp("format",d.format)}}),a.jme.registerPlugin("poster-display",{structure:"<div />",options:{},_create:function(b,c){var d=function(){var d=c.prop("poster");d?b.html('<span></span><img src="'+d+'" class="'+a.jme.classNS+'poster-image" />'):b.empty()};c.bind("emptied",d),d()}})}(jQuery),function(a){var b;a.jme.startJME=function(){if(!b){a.webshims.loader&&setTimeout(function(){a.webshims.loader.loadList(["range-ui"])},0),a(function(){a.jme.createSelectors(),a.jme.initJME(document,a([]))}),a.webshims.ready("mediaelement",function(){a.webshims.addReady(function(b,c){b!==document&&a.jme.initJME(b,c)})}),b=!0}},a(window).trigger("jmepluginready")}(window.webshims&&webshims.$||jQuery);